(this.webpackJsonppaint2=this.webpackJsonppaint2||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(11),r=a.n(c),s=a(13),l=a(6),i=a(7),o=a(4),d=a.n(o),u=a(8),j=a(3),b=(a(19),a(20),a(0)),h=function(e){return Object(b.jsx)("canvas",{className:"card shadow rounded-0 rounded-top m-0",height:"600",onMouseDown:e.startDrawing,onMouseUp:e.finishDrawing,onMouseMove:e.draw,ref:e.canvasRef})},m=a(12),p=a.n(m),f=function(e){return Object(b.jsxs)("div",{className:"card shadow-sm rounded-0 rounded-bottom mt-4 mt-md-0 mt-lg-1",children:[Object(b.jsx)("div",{className:"card-header text-center fs-2",children:"Saved Images On Server"}),Object(b.jsx)("div",{className:"py-3 scrolller",children:e.loader?Object(b.jsxs)("div",{className:"pt-4",children:[Object(b.jsx)(p.a,{type:"Oval",color:"black",height:50,width:50}),Object(b.jsx)("p",{className:"pt-2",children:"Loading.."})]}):e.images.length>0?e.images.map((function(t){return Object(b.jsxs)("div",{className:"position-relative d-inline",children:[Object(b.jsx)("button",{type:"button",className:"btn-close fs-8 check p-0","aria-label":"Close",id:t._id,onClick:e.deleteImage}),Object(b.jsx)("img",{src:t.src,id:t._id,alt:"",onClick:e.loadImage,className:"border m-3 col-7 col-sm-5 col-md-4 col-lg-6 col-xl-3 my-2 shadow-sm zoom"})]},t._id)})):Object(b.jsx)("h6",{className:"fst-italic",children:"(Empty List)"})}),Object(b.jsxs)("div",{className:"card border-0 border-top bg-light d-inline py-1 rounded-0 rounded-bottom",children:[Object(b.jsx)("button",{className:"btn col-10 col-lg-5 btn-outline-dark shadow-sm fs-5 my-1 me-lg-3",onClick:e.saveImage,children:"Save image"}),Object(b.jsx)("button",{className:"btn col-10 col-lg-5 btn-outline-dark shadow-sm fs-5 my-1",onClick:e.deleteAll,children:"Delete All"})]})]})},g=(a(42),function(e){var t={backgroundColor:e.rgbColor};return Object(b.jsxs)("div",{className:"card py-3 shadow",children:[Object(b.jsx)("h3",{children:e.title}),Object(b.jsx)("div",{className:"color",style:t}),Object(b.jsx)("div",{className:"result pb-4",children:e.rgbColor}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"range",min:"0",max:"255",name:"red",value:e.color.red,onChange:e.changeColor}),Object(b.jsxs)("div",{children:["red: ",e.color.red]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"range",min:"0",max:"255",name:"green",value:e.color.green,onChange:e.changeColor}),Object(b.jsxs)("div",{children:["green: ",e.color.green]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"range",min:"0",max:"255",name:"blue",value:e.color.blue,onChange:e.changeColor}),Object(b.jsxs)("div",{children:["blue: ",e.color.blue]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"range",min:"0",max:"1",name:"alpha",step:"0.01",value:e.color.alpha,onChange:e.changeColor}),Object(b.jsxs)("div",{children:["alpha: ",e.color.alpha]})]})]})}),O=function(e){return Object(b.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(b.jsx)("p",{className:"fs-7 px-2",children:"Brush Size"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"range",min:"1",max:"20",value:e.brushSize,onChange:function(t){return e.setBrushSize(t.target.value)}}),Object(b.jsxs)("p",{className:"fw-bold fs-5 d-inline",children:[" ",e.brushSize]})]})]})},x=(a(43),function(e){return Object(b.jsxs)("div",{className:"card shadow pt-3",children:[Object(b.jsxs)("div",{className:"menu",title:e.expandCanvas?"Reduce":"Expand",onClick:function(){return e.setExpandCanvas(!e.expandCanvas)},children:[Object(b.jsx)("span",{}),Object(b.jsx)("span",{}),Object(b.jsx)("span",{})]}),Object(b.jsx)("h1",{className:"display-1",children:"PaintMe"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-12 col-md",children:[Object(b.jsx)("p",{className:"fs-7 d-inline",children:"Pos: "}),Object(b.jsxs)("p",{className:"fs-6 fw-bold d-inline",children:[e.offset.x,",",e.offset.y]})]}),Object(b.jsx)("div",{className:"col-12 col-md",children:Object(b.jsx)("p",{className:"display-6 fs-6 d-inline mt-5",children:"By David Saal"})}),Object(b.jsx)("div",{className:"col-12 col-md",children:Object(b.jsx)(O,{brushSize:e.brushSize,setBrushSize:e.setBrushSize})})]})]})}),v=function(e){return Object(b.jsxs)("div",{className:"col-10 col-lg-4",children:[Object(b.jsxs)("label",{htmlFor:"file-upload",className:"btn btn-outline-dark shadow-sm fs-5 col-12",children:[Object(b.jsx)("i",{className:"fa fa-cloud-upload"})," Choose File"]}),Object(b.jsx)("input",{id:"file-upload",type:"file",onChange:e.handleFiles,className:"d-none"}),Object(b.jsx)("p",{className:"fst-italic pt-1",Style:"font-size: 0.9rem;",children:e.fileName?e.fileName:"No File"})]})},w=function(e){return Object(b.jsx)("div",{className:"card shadow-sm rounded-0",children:Object(b.jsxs)("div",{className:"row justify-content-center pt-lg-3 py-3 py-lg-0",children:[Object(b.jsx)(v,{fileName:e.fileName,handleFiles:e.handleFiles}),Object(b.jsx)("div",{className:"col-10 col-lg-7 ps-lg-1",children:Object(b.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-5 col-12",onClick:e.clearCanvas,children:"Clear All"})})]})})};var N=function(){var e=Object(n.useState)({red:0,green:0,blue:0,alpha:1}),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({red:255,green:255,blue:255,alpha:1}),o=Object(j.a)(r,2),m=o[0],p=o[1],O=1===a.alpha?"rgb(".concat(a.red,", ").concat(a.green,", ").concat(a.blue,")"):"rgba(".concat(a.red,", ").concat(a.green,", ").concat(a.blue,", ").concat(a.alpha,")"),v=1===m.alpha?"rgb(".concat(m.red,", ").concat(m.green,", ").concat(m.blue,")"):"rgba(".concat(m.red,", ").concat(m.green,", ").concat(m.blue,", ").concat(m.alpha,")"),N=Object(n.useState)(5),C=Object(j.a)(N,2),y=C[0],S=C[1],k=Object(n.useState)({x:0,y:0}),E=Object(j.a)(k,2),R=E[0],I=E[1],z=Object(n.useState)(""),B=Object(j.a)(z,2),L=B[0],D=B[1],A=Object(n.useState)([]),P=Object(j.a)(A,2),F=P[0],T=P[1],U=Object(n.useState)(!1),M=Object(j.a)(U,2),J=M[0],_=M[1],W=Object(n.useState)(!0),X=Object(j.a)(W,2),Y=X[0],q=X[1],G=Object(n.useState)(!1),H=Object(j.a)(G,2),K=H[0],Q=H[1],V=Object(n.useRef)(null),Z=Object(n.useRef)(null),$=Object(n.useRef)(null),ee=function(e){V.current.width=$.current.getBoundingClientRect().width-25};Object(n.useEffect)((function(){return window.addEventListener("resize",ee,!0),function(){window.removeEventListener("resize",ee,!0)}}),[]),Object(n.useEffect)((function(){V.current.width=$.current.getBoundingClientRect().width-25}),[J]);var te=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://paintmee.herokuapp.com");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){!function(){var e=V.current;e.width=$.current.getBoundingClientRect().width-25;var t=e.getContext("2d");t.lineCap="round",t.strokeStyle=O,t.lineWidth=y,Z.current=t}(),te().then((function(e){q(!1),T(e)}))}),[]);var ae=function(e){D("");var t=V.current,a=t.getContext("2d");a.fillStyle="rgba(255, 255, 255, 1)",a.fillRect(0,0,t.width,t.height);var n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=atob(e),c=[],r=0;r<n.length;r+=a){for(var s=n.slice(r,r+a),l=new Array(s.length),i=0;i<s.length;i++)l[i]=s.charCodeAt(i);var o=new Uint8Array(l);c.push(o)}return new Blob(c,{type:t})}(e.target.src.split(",")[1].trim()),c=new Image;c.src=URL.createObjectURL(n),c.onload=function(){a.drawImage(c,0,0,t.width,t.height)}},ne=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),t=V.current,a=t.toDataURL(),e.next=5,fetch("https://paintmee.herokuapp.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({src:a})});case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,200===n.status?T([].concat(Object(s.a)(F),[{src:a,id:c}])):(401===n.status&&alert("Error reading from database."),402===n.status&&alert("Server reached max limit, please delete images."),403===n.status&&alert("Error with image src pattern."),404===n.status&&alert("Error saving image to database.")),q(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,fetch("https://paintmee.herokuapp.com/deleteImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.target.id})});case 3:200===(a=e.sent).status?T(F.filter((function(e){return e._id!==t.target.id}))):405===a.status&&alert("Error deleting images."),q(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,fetch("https://paintmee.herokuapp.com",{method:"DELETE"});case 3:200===(t=e.sent).status?T([]):405===t.status&&alert("Error deleting images."),q(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"wrapper pt-4",children:Object(b.jsxs)("div",{className:J?"col-11 col-lg-11":"col-10",children:[Object(b.jsx)(x,{brushSize:y,setBrushSize:S,offset:R,saveImage:ne,deleteAll:re,images:F,loadImage:ae,expandCanvas:J,setExpandCanvas:_}),Object(b.jsxs)("div",{className:"row pt-4",children:[Object(b.jsx)("div",{className:"col pb-5 pb-xl-0",id:"colorPicker1",children:Object(b.jsx)(g,{title:"Brush Color",color:a,changeColor:function(e){var t=e.target,n=t.name,r=t.value;c(Object(i.a)(Object(i.a)({},a),{},Object(l.a)({},n,r)))},rgbColor:O})}),Object(b.jsxs)("div",{ref:$,className:J?"col-12 col-lg-6 col-xl-7 pb-4 pb-lg-0":"col-12 col-lg-5 col-xl-6 pb-4 pb-lg-0",id:"canvas",children:[Object(b.jsx)(h,{startDrawing:function(e){var t=e.nativeEvent,a=V.current.getContext("2d");a.strokeStyle=O,a.lineWidth=y;var n=t.offsetX,c=t.offsetY;Z.current.beginPath(),Z.current.moveTo(n,c),Q(!0)},finishDrawing:function(){Z.current.closePath(),Q(!1)},draw:function(e){var t=e.nativeEvent;if(K){var a=t.offsetX,n=t.offsetY;Z.current.lineTo(a,n),Z.current.stroke(),I({x:a,y:n})}},canvasRef:V}),Object(b.jsx)(w,{fileName:L,handleFiles:function(e){if(e.target.files.length){var t=e.target.files[0];D(t.name);var a=V.current,n=a.getContext("2d"),c=new Image;c.src=URL.createObjectURL(t),c.onload=function(){n.drawImage(c,0,0,a.width,a.height)}}},clearCanvas:function(){D(""),I({x:0,y:0}),p({red:255,green:255,blue:255,alpha:1});var e=V.current,t=e.getContext("2d");t.fillStyle="rgba(255, 255, 255, 1)",t.fillRect(0,0,e.width,e.height)}}),Object(b.jsx)(f,{saveImage:ne,deleteAll:re,images:F,loadImage:ae,deleteImage:ce,loader:Y})]}),Object(b.jsx)("div",{className:"col pb-5 pb-xl-0",id:"colorPicker2",children:Object(b.jsx)(g,{title:"Background Color",color:m,changeColor:function(e){var t=e.target,a=t.name,n=t.value;p(Object(i.a)(Object(i.a)({},m),{},Object(l.a)({},a,n)));var c=V.current,r=c.getContext("2d");r.fillStyle=v,r.fillRect(0,0,c.width,c.height)},rgbColor:v})})]})]})})};a(44);r.a.render(Object(b.jsx)(N,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.0873d446.chunk.js.map